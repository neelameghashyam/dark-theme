<div class="dashboard-container"  [class.dark-mode]="darkModeService.darkMode()">
    <div class="header"> 
      <h2>Channel Dashboard</h2> 
      <button mat-raised-button [mat-menu-trigger-for]="widgetMenu"> 
        <mat-icon>add_circle</mat-icon> 
        Add widget 
      </button> 
      <mat-menu #widgetMenu="matMenu"> 
        @for (widget of store.widgetsToAdd(); track widget.id) { 
          <button mat-menu-item (click)="store.addWidget(widget)"> 
            {{ widget.label }} 
          </button> 
        } @empty {
          <button mat-menu-item>No Widgets To Add</button> 
        }
      </mat-menu> 
    </div>
    
    <div #dashboard class="dashboard-widgets"> 
      @for (w of store.addedWidgets(); track w.id) { 
        <app-widget [data]="w" /> 
      } 
    </div>
  </div>